"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

var initHeroSlides = function initHeroSlides() {
  var carouselCells = document.querySelectorAll('.carousel-cell'); //Hide all slide that aren't active

  carouselCells.forEach(function (cell) {
    if (!hasClass(cell, 'active')) {
      TweenLite.set(cell, {
        autoAlpha: 0
      });
    }
  });
};

var homeCellSlider = function homeCellSlider() {
  var nextCell = document.querySelector('.carousel-btn--next');
  var prevCell = document.querySelector('.carousel-btn--prev');

  var goToNextCell = function goToNextCell(cellOut, cellIn) {
    var tl = new TimelineMax(); //cellOut items

    var cellOutHeading = cellOut.querySelector('h1');
    var cellOutContent = cellOut.querySelector('p'); //slideIn items

    var cellInPos = Array.from(cellIn.parentNode.children).indexOf(cellIn) + 1;
    var cellInHeading = cellIn.querySelector('h1');
    var cellInContent = cellIn.querySelector('p');

    var size = _toConsumableArray(document.querySelectorAll('.carousel-cell')).length;

    tl.to(cellIn, 0.4, {
      autoAlpha: 1,
      className: '+=active'
    }).to(cellOut, 0.4, {
      className: '-=active'
    }).to(cellOutHeading, 0.9, {
      yPercent: -32,
      autoAlpha: 0,
      ease: Quart.easeIn
    }, 0.1).to(cellOutContent, 0.9, {
      yPercent: -32,
      autoAlpha: 0,
      ease: Quart.easeIn
    }, 0.2).fromTo(cellInHeading, 0.9, {
      yPercent: 32,
      autoAlpha: 0
    }, {
      yPercent: 0,
      autoAlpha: 1,
      ease: Expo.easeOut
    }, 1.2).fromTo(cellInContent, 0.9, {
      yPercent: 32,
      autoAlpha: 0
    }, {
      yPercent: 0,
      autoAlpha: 1,
      ease: Expo.easeOut
    }, 1.3); // Fade out arrow up and fade in arrow down
    // Fade in arrow down

    TweenLite.set(prevCell, {
      autoAlpha: 1
    }); // Fade out arrow up on last slide

    if (cellInPos === size) {
      TweenLite.to(nextCell, 0.3, {
        autoAlpha: 0.2,
        ease: Linear.easeNone
      });
    }
  };

  var goToPrevCell = function goToPrevCell(cellOut, cellIn) {
    var tl = new TimelineMax(); //cellOut items

    var cellOutHeading = cellOut.querySelector('h1');
    var cellOutContent = cellOut.querySelector('p'); //slideIn items

    var cellInPos = Array.from(cellIn.parentNode.children).indexOf(cellIn) + 1;
    var cellInHeading = cellIn.querySelector('h1');
    var cellInContent = cellIn.querySelector('p');

    var size = _toConsumableArray(document.querySelectorAll('.carousel-cell')).length;

    tl.to(cellIn, 0.4, {
      autoAlpha: 1,
      className: '+=active'
    }).to(cellOut, 0.4, {
      className: '-=active'
    }).to(cellOutContent, 0.9, {
      yPercent: 32,
      autoAlpha: 0,
      ease: Quart.easeIn
    }, 0.1).to(cellOutHeading, 0.9, {
      yPercent: 32,
      autoAlpha: 0,
      ease: Quart.easeIn
    }, 0.2).fromTo(cellInContent, 0.9, {
      yPercent: -32,
      autoAlpha: 0
    }, {
      yPercent: 0,
      autoAlpha: 1,
      ease: Expo.easeOut
    }, 1.2).fromTo(cellInHeading, 0.9, {
      yPercent: -32,
      autoAlpha: 0
    }, {
      yPercent: 0,
      autoAlpha: 1,
      ease: Expo.easeOut
    }, 1.3); // Fade out arrow up and fade in arrow down
    // Fade in arrow down

    TweenLite.set(nextCell, {
      autoAlpha: 1
    }); // Fade out arrow up on last slide

    if (cellInPos === 1) {
      TweenLite.to(prevCell, 0.3, {
        autoAlpha: 0.2,
        ease: Linear.easeNone
      });
    }
  };

  nextCell.addEventListener('click', function (e) {
    var cellOut = document.querySelector('.carousel-cell.active');
    var cellIn = document.querySelector('.carousel-cell.active').nextElementSibling;

    if (cellIn !== null) {
      goToNextCell(cellOut, cellIn);
    }
  });
  prevCell.addEventListener('click', function (e) {
    var cellOut = document.querySelector('.carousel-cell.active');
    var cellIn = document.querySelector('.carousel-cell.active').previousElementSibling;

    if (cellIn !== null) {
      goToPrevCell(cellOut, cellIn);
    }
  });
};

initHeroSlides();
//# sourceMappingURL=test.min.js.map
